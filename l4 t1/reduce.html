<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let arr = [
            { x: 1 },
            { x: 2 },
            { x: 3 }
        ];


        let initialValue = 0;
        let sumVariables = arr.reduce(function (previousValue, currentValue) {
            return previousValue + currentValue.x

        }, initialValue)
        console.log('sum', sumVariables);


        //

        let arr2 = [[0, 1], [2, 3], [4, 5]]
        let flattened = arr2.reduce(function (prev, current) {
            return prev.concat(current)// [].concat([0,1])
        }, [])
        console.log(flattened)


        //


        let friends = [

            {

                name: "Anna",

                books: ["Bible", "Harry Potter"],

                age: 21,

            },

            {

                name: "Bob",

                books: ["War and peace", "Romeo and Juliet"],

                age: 26,

            },

            {

                name: "Alice",

                books: ["The Lord of the Rings", "The Shining"],

                age: 18,

            },

        ];

        //


        const products = [
            { name: "Product 1", price: 20, category: "Electronics" },
            { name: "Product 2", price: 30, category: "Clothes" },
            { name: "Product 3", price: 40, category: "Electronics" },
            { name: "Product 4", price: 50, category: "Clothes" },
            { name: "Product 5", price: 60, category: "Clothes" },
            { name: "Product 6", price: 70, category: "Electronics" },
            { name: "Product 7", price: 80, category: "Clothes" },
            { name: "Product 8", price: 90, category: "Electronics" },
        ];
        let initList = {};
        let productCategory = products.reduce(function (productList, item) {

            let category = item.category; // get the category to a variable
            if (!productList[category]) {
                productList[category] = []
            };   // create the empty list for first item
            productList[category].push(item); // add to the prolist
            return productList;
        }, initList)
        console.log(productCategory)


        //
        let averagePriceByCategory = Object.keys(productCategory).map(
            function (category) {
                let sum = productCategory[category].reduce(function (acc, product) {
                    return acc + product.price
                }, 0)
                return {
                    category: category,
                    average: sum / productCategory[category].length
                }
            }
        )
        console.log(averagePriceByCategory)





    </script>
</body>

</html>